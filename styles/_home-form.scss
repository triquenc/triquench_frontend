// Variables
$primaryBlue: #145073;
$borderColor: #d1e3ed;
$lightBlueBg: #eaf6fb;

// Breakpoint Mixin
@mixin bp($point) {
    @if $point == sm-max {
        @media (max-width: 767px) { @content; }
    }
}

// --- RIGHT COLUMN: FORM STYLES ---
.inquiry-right-col {
    flex: 1; 
    width: 100%;
    padding-top: 1rem;
    
    // DESKTOP: Card Style
   
    padding: 3rem; 

    // --- MOBILE FIX (320px+) ---
    @include bp("sm-max") {
        // 1. Force Full Width & Stop Flex Squeezing
        flex: 0 0 100% !important; 
        width: 150% !important; 
        max-width: 150% !important;
        
        // 2. Reduce Card Padding to save space
        padding: 1.5rem 1rem !important; 
        
        // 3. Keep Card Style
        border: 2px solid #e1e1e1;
        background: #fffdfd;      
        border-radius: 2rem;      
        
        box-sizing: border-box; 
        margin-top: 2rem;
        margin-left: 0;
        margin-right: 0;
    }

    .inquiry-form {
        display: flex;
        flex-wrap: wrap;
        margin: 0 -1rem; // Desktop Gutter

        // --- MOBILE FIX ---
        @include bp("sm-max") {
            display: block;       // Stack vertically
            margin: 0 !important; // Remove negative margins
            width: 100%;          
        }

        .inquiry-group {
            padding: 0 1rem; // Desktop Gutter
            margin-bottom: 2rem;
            position: relative;
            
            // --- MOBILE FIX: FULL WIDTH CONTAINER ---
            @include bp("sm-max") {
                padding: 0 !important;
                margin-bottom: 1.5rem;   
                width: 100% !important;  
                max-width: 100% !important;
                flex: none;
            }

            label {
                display: block;
                font-size: 1.4rem;
                color: $primaryBlue;
                margin-bottom: 0.8rem;
                font-weight: 500;
                padding-left: 0.5rem;
                text-align: left;
            }

            // --- INPUTS & TEXTAREA ---
            input, textarea {
                width: 100% !important;
                background: #fff;
                border: 1px solid $borderColor;
                border-radius: 3rem; 
                
                // Desktop Padding
                padding: 1.2rem 2rem; 
                
                // --- MOBILE FIX: REDUCE PADDING ---
                // Less padding means more room for text
                @include bp("sm-max") {
                    padding: 1.2rem 1rem !important; 
                    font-size: 1.4rem; // Slightly smaller font to fit text
                }

                font-size: 1.5rem;
                color: #333;
                outline: none;
                transition: border-color 0.3s;
                box-sizing: border-box; // CRITICAL

                &::placeholder {
                    color: #aaa;
                    font-size: 1.4rem;
                    
                    @include bp("sm-max") {
                        font-size: 1.3rem; // Smaller placeholder for mobile
                    }
                }

                &:focus {
                    border-color: $primaryBlue;
                }
            }

            textarea {
                border-radius: 1.5rem;
                height: 12rem;
                resize: none;
            }

            .inquiry-error {
                color: red;
                font-size: 1.2rem;
                margin-top: 0.5rem;
                padding-left: 0.5rem;
                text-align: left;
            }
        }

        // --- CUSTOM DROPDOWN ---
        .inquiry-select-trigger {
            width: 100% !important;
            height: 4.8rem;
            background: #fff;
            border: 1px solid $borderColor;
            border-radius: 3rem;
            padding: 0 2rem;
            
            @include bp("sm-max") {
                padding: 0 1rem !important; 
            }

            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            box-sizing: border-box;

            .placeholder { color: #aaa; font-size: 1.4rem; }
            .value { color: #333; font-size: 1.5rem; }
            
            .arrow {
                width: 1rem;
                height: 1rem;
                background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23145073' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
                background-repeat: no-repeat;
                background-position: center;
                background-size: contain;
                transition: transform 0.3s;
            }
            &.active .arrow { transform: rotate(180deg); }
        }

        .inquiry-options-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: #fff;
            border: 1px solid $borderColor;
            border-radius: 1rem;
            margin-top: 0.5rem;
            max-height: 20rem;
            overflow-y: auto;
            z-index: 10;
            padding: 0.5rem 0;
            list-style: none;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            width: 100%;
            text-align: left;

            li {
                padding: 0.8rem 2rem;
                font-size: 1.4rem;
                cursor: pointer;
                color: #333;
                
                &:hover { background-color: $lightBlueBg; }
                &.selected { background-color: $primaryBlue; color: #fff; }
            }
        }

        // --- FIELD WIDTH HELPERS ---
        // Desktop Definitions
        .inquiry-full-field {
            flex: 0 0 100%;
            max-width: 100%;
        }

        .inquiry-half-field {
            flex: 0 0 50%;
            max-width: 50%;
            
            // --- MOBILE FIX ---
            @include bp("sm-max") {
                flex: 0 0 100% !important;
                max-width: 100% !important;
                width: 100% !important;
            }
        }

        // --- SUBMIT BUTTON ---
        .inquiry-btn-group {
            width: 100%;
            padding: 0 1rem;
            margin-top: 1rem;

            @include bp("sm-max") {
                padding: 0 !important;
            }

            button {
                background-color: $primaryBlue;
                color: #fff;
                border: none;
                padding: 1.2rem 3.5rem;
                border-radius: 3rem;
                font-size: 1.6rem;
                font-weight: 600;
                cursor: pointer;
                transition: background 0.3s;
                
                // Mobile: Full width button
                @include bp("sm-max") {
                    width: 100%;
                }

                &:hover {
                    background-color: darken($primaryBlue, 10%);
                }
                &:disabled {
                    opacity: 0.7;
                    cursor: not-allowed;
                }
            }
        }
    }
}